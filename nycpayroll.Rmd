```{r}
library(tidyverse)
library(gender)
```
```{r}
nyc_data <- read_csv(file = 'Downloads/Citywide_Payroll_Data__Fiscal_Year_.csv')
nyc_data <- select(nyc_data, -'Payroll Number')
```
```{r}
nyc_data <- nyc_data %>% 
  mutate(total_pay = `Regular Gross Paid` + `Total OT Paid` + `Total Other Pay`) %>%
  mutate(birth_year = '1970')

nyc_data <- nyc_data %>%
  rename(first_name = `First Name`)
  
  
results <- gender_df(nyc_data, name_col = "first_name", year_col = "birth_year" ,
                     method = 'ssa')

nyc_data <- nyc_data %>%
  left_join(results, by = c("first_name" = "name"))


```

